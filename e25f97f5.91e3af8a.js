(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{114:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),i=n(6),r=(n(0),n(118)),o={id:"bip-0011",title:"BIP-0011"},s={id:"bip-0011",title:"BIP-0011",description:"`",source:"@site/docs/bip-0011.md",permalink:"/BIPS_website/docs/bip-0011",editUrl:"https://github.com/anoop-b/BIPS_website/edit/master/docs/bip-0011.md",sidebar:"someSidebar",previous:{title:"BIP-0010",permalink:"/BIPS_website/docs/bip-0010"},next:{title:"Contribution",permalink:"/BIPS_website/docs/contribute"}},c=[{value:"Abstract",id:"abstract",children:[]},{value:"Motivation",id:"motivation",children:[]},{value:"Specification",id:"specification",children:[]},{value:"Rationale",id:"rationale",children:[]},{value:"Implementation",id:"implementation",children:[]},{value:"Post History",id:"post-history",children:[]}],l={rightToc:c};function u(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{})," BIP: 11\n Layer: Applications\n Title: M-of-N Standard Transactions\n Author: Gavin Andresen &lt;gavinandresen@gmail.com&gt;\n Comments-Summary: No comments yet.\n Comments-URI: https://github.com/bitcoin/bips/wiki/Comments:BIP-0011\n Status: Final\n Type: Standards Track\n Created: 2011-10-18\n Post-History: 2011-10-02\n")),Object(r.b)("h2",{id:"abstract"},"Abstract"),Object(r.b)("p",null,"This BIP proposes M-of-N-signatures required transactions as a new ","'","standard","'"," transaction type."),Object(r.b)("h2",{id:"motivation"},"Motivation"),Object(r.b)("p",null,"Enable secured wallets, escrow transactions, and other use cases where redeeming funds requires more than a single signature."),Object(r.b)("p",null,"A couple of motivating use cases:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"A wallet secured by a ",'"',"wallet protection service",'"'," (WPS). 2-of-2\nsignatures required transactions will be used, with one signature\ncoming from the (possibly compromised) computer with the wallet and the\nsecond signature coming from the WPS. When sending protected bitcoins,\nthe user","'","s bitcoin client will contact the WPS with the proposed\ntransaction and it can then contact the user for confirmation that they\ninitiated the transaction and that the transaction details are correct.\nDetails for how clients and WPS","'","s communicate are outside the scope of\nthis BIP. Side note: customers should insist that their wallet\nprotection service provide them with copies of the private key(s) used\nto secure their wallets that they can safely store off-line, so that\ntheir coins can be spent even if the WPS goes out of business."),Object(r.b)("li",{parentName:"ul"},"Three-party\nescrow (buyer, seller, and trusted dispute agent). 2-of-3 signatures\nrequired transactions will be used. The buyer and seller and agent will\neach provide a public key, and the buyer will then send coins into a\n2-of-3 CHECKMULTISIG transaction and send the seller and the agent the\ntransaction id. The seller will fulfill their obligation and then ask\nthe buyer to co-sign a transaction ( already signed by seller ) that\nsends the tied-up coins to him (seller).",Object(r.b)("br",{parentName:"li"}),"If the buyer and seller\ncannot agree, then the agent can, with the cooperation of either buyer\nor seller, decide what happens to the tied-up coins. Details of how\nbuyer, seller, and agent communicate to gather signatures or public keys\nare outside the scope of this BIP.")),Object(r.b)("h2",{id:"specification"},"Specification"),Object(r.b)("p",null,"A new standard transaction type (scriptPubKey) that is relayed by clients and included in mined blocks:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"m {pubkey}...{pubkey} n OP_CHECKMULTISIG\n")),Object(r.b)("p",null,"But only for n less than or equal to 3."),Object(r.b)("p",null,"OP_CHECKMULTISIG transactions are redeemed using a standard scriptSig:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"OP_0 ...signatures...\n")),Object(r.b)("p",null,"(OP_0 is required because of a bug in OP_CHECKMULTISIG; it pops one\ntoo many items off the execution stack, so a dummy value must be placed\non the stack)."),Object(r.b)("p",null,"The current Satoshi bitcoin client does not relay or mine\ntransactions with scriptSigs larger than 200 bytes; to accommodate\n3-signature transactions, this will be increased to 500 bytes."),Object(r.b)("h2",{id:"rationale"},"Rationale"),Object(r.b)("p",null,"OP_CHECKMULTISIG is already an enabled opcode, and is the most straightforward way to support several important use cases."),Object(r.b)("p",null,"One argument against using OP_CHECKMULTISIG is that old clients and\nminers count it as ",'"',"20 sigops",'"'," for purposes of computing how many\nsignature operations are in a block, and there is a hard limit of 20,000\nsigops per block-- meaning a maximum of 1,000 multisig transactions per\nblock. Creating multisig transactions using multiple OP_CHECKSIG\noperations allows more of them per block."),Object(r.b)("p",null,"The counter-argument is that these new multi-signature transactions\nwill be used in combination with OP_EVAL (see the OP_EVAL BIP), and ",Object(r.b)("strong",{parentName:"p"},"will")," be counted accurately. And in any case, as transaction volume rises the\nhard-coded maximum block size will have to be addressed, and the rules\nfor counting number-of-signature-operations-in-a-block can be addressed\nat that time."),Object(r.b)("p",null,"A weaker argument is OP_CHECKMULTISIG should not be used because it\npops one too many items off the stack during validation. Adding an extra\nOP_0 placeholder to the scriptSig adds only 1 byte to the transaction,\nand any alternative that avoids OP_CHECKMULTISIG adds at least several\nbytes of opcodes."),Object(r.b)("h2",{id:"implementation"},"Implementation"),Object(r.b)("p",null,"OP_CHECKMULTISIG is already supported by old clients and miners as a non-standard transaction type."),Object(r.b)("p",null,Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/gavinandresen/bitcoin-git/tree/op_eval"}),"https://github.com/gavinandresen/bitcoin-git/tree/op_eval")),Object(r.b)("h2",{id:"post-history"},"Post History"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"https://bitcointalk.org/index.php?topic=46538"}),"OP_EVAL proposal"))))}u.isMDXComponent=!0},118:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var a=n(0),i=n.n(a);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=i.a.createContext({}),u=function(e){var t=i.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s({},t,{},e)),n},p=function(e){var t=u(e.components);return i.a.createElement(l.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},d=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,o=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),p=u(n),d=a,h=p["".concat(o,".").concat(d)]||p[d]||b[d]||r;return n?i.a.createElement(h,s({ref:t},l,{components:n})):i.a.createElement(h,s({ref:t},l))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var l=2;l<r;l++)o[l]=n[l];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);